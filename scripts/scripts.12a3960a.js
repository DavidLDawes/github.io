"use strict";angular.module("veraApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$sceDelegateProvider",function(a,b){b.resourceUrlWhitelist(["self","https://www.youtube.com/watch/**","http://www.youtube.com/watch/**","//www.youtube.com/watch/**","https://www.youtube.com/embed/**","http://www.youtube.com/embed/**","//www.youtube.com/embed/**","//www.youtube.com/embed/{{ID}}","https://www.youtube.com/*/**","https://www.youtube.com/**"]),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("veraApp").controller("MainCtrl",["$scope","Youtube","$sce",function(a,b,c){a.sizeChoices=[{name:"default",width:"120",height:"90"},{name:"high",width:"480",height:"360"},{name:"medium",width:"320",height:"180"}],a.perValues=[{name:"5 per page",value:5},{name:"10 per page",value:10},{name:"25 per page",value:25}],a.showThumbs=!0,a.showEMbedded=!0,a.imageSize=a.sizeChoices[0],a.perPage=a.perValues[0],a.updateNext=function(){b.updateNext()},a.updateLast=function(){b.updateLast()},a.showDefault=function(){return a.imageSize===a.sizeChoices[0]},a.showMedium=function(){return a.imageSize===a.sizeChoices[2]},a.showHigh=function(){return a.imageSize===a.sizeChoices[1]},a.page=function(){return b.getPage()},a.pagesLeft=function(){return Math.floor((a.total+a.maxCount-1)/a.maxCount)-b.getPage()-1},a.fixPages=function(){b.setPageSize(a.perPage.value)},a.setEmbedded=function(b){a.trustedEmbedded=c.trustAsHtml('<iframe src="//www.youtube.com/embed/'+b+'" width="640" height="360" frameborder="4" allowfullscreen></iframe>')},a.getTrustedEmbedded=function(b){a.trustedEmbeddedDefault=c.trustAsHtml('<iframe src="//www.youtube.com/embed/'+b+'" width="120" height="90" frameborder="1" allowfullscreen></iframe>'),a.trustedEmbeddedHigh=c.trustAsHtml('<iframe src="//www.youtube.com/embed/'+b+'" width="480" height="360" frameborder="1" allowfullscreen></iframe>'),a.trustedEmbeddedMedium=c.trustAsHtml('<iframe src="//www.youtube.com/embed/'+b+'" width="320" height="180" frameborder="1" allowfullscreen></iframe>')},b.injectOnSuccess(function(c,d,e,f){a.videos=c,a.maxCount=d,a.setEmbedded(a.videos[0].id.videoId),a.next=b.nextPage(),(void 0===a.next||null===a.next||0===a.next.length||"trigger"===a.next)&&(a.next=b.getPage()<Math.floor((f+a.maxCount-1)/a.maxCount)?"trigger":null),a.soFarFrom=e+1,a.soFarTo=e+d,a.soFarTo>f+1&&(a.soFarTo=f+1),a.per=d,a.total=f+1})}]),angular.module("veraApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("veraApp").service("Youtube",["$http",function(a){var b,c,d,e,f,g,h,i,j,k="starting",l=50,m=5,n="https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=UC3O0zQOrbjLCYqYJ1rpvTRg&maxResults="+l,o="&q=vera&key=AIzaSyBHPMsh04GQ3Mc_XCNdI8Dp7Fcl6ylw6yU";return void 0===g&&(g=0,e=[]),j=function(i,l){var p;p=void 0===l||null===l?"":"&pageToken="+l,b=a.get(n+p+o).success(function(a){i?(f=a.nextPageToken,h=a.pageInfo.totalResults,e=e.concat(a.items),d=e.slice(g*m,(g+1)*m),k="ready",c(d,m,g*m,h),void 0!==f&&null!==f&&j(!1,f)):(f=a.nextPageToken,e=e.concat(a.items),k="ready")}).error(function(a,b,c,e){console.log("error on $http.get()"),d=void 0,f=void 0,k="error",h=null,console.log("data ="+a),console.log("status ="+b),console.log("headers ="+c),console.log("config ="+e)})},j(!0,null),{get:function(){return d},status:function(){return k},ready:function(){return"ready"===k},getPage:function(){return g},setPage:function(a,b){return void 0===b&&a>Math.floor((h+m-1)/m)?void(f=null):void(null!==h&&void 0!==h&&null!==k&&void 0!==k&&"error"!==k&&"starting"!==k&&"ready"===k&&a>-1&&a<=Math.floor((h+m-1)/m)&&(g=a,i=b,g<Math.floor(e.length/m)?(d=(g+1)*m>h?e.slice(g*m,h):e.slice(g*m,(g+1)*m),k="ready",c(d,m,g*m,h),g>Math.floor((e.length+m-1)/m)-2&&j(!1,f)):j(!0,f)))},fetchSome:function(a,b){j(a,b)},getTotal:function(){return h},nextPage:function(){return f},updateNext:function(){this.setPage(g+1,f)},updateLast:function(){g>0&&this.setPage(g-1,null)},setToken:function(a){return i===a},setPageSize:function(a){3>a||(g=Math.floor(g*m/a),m=a,this.setPage(g,i))},injectOnSuccess:function(a){c=a,void 0!==d&&a(d)}}}]);